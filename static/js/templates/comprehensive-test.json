{
  "config_name": "Comprehensive Test Configuration",
  "description": "Cấu hình test toàn diện cho mọi tính năng của hệ thống - Video transcode, Image processing, Face detection, GIF creation, Thumbnails",
  "created_at": "2025-06-03T22:00:00Z",
  "video_settings": {
    "transcode_profiles": [
      {
        "name": "480p_fast",
        "width": 854,
        "height": 480,
        "codec": "libx264",
        "preset": "fast",
        "crf": 28,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "128k",
        "use_gpu": false
      },
      {
        "name": "720p_medium",
        "width": 1280,
        "height": 720,
        "codec": "libx264",
        "preset": "medium",
        "crf": 23,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "192k",
        "use_gpu": false
      },
      {
        "name": "1080p_high",
        "width": 1920,
        "height": 1080,
        "codec": "libx264",
        "preset": "slow",
        "crf": 18,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "256k",
        "use_gpu": false
      },
      {
        "name": "webm_720p",
        "width": 1280,
        "height": 720,
        "codec": "libvpx-vp9",
        "crf": 30,
        "format": "webm",
        "audio_codec": "libopus",
        "audio_bitrate": "128k",
        "use_gpu": false
      },
      {
        "name": "clip_first_30s",
        "width": 1280,
        "height": 720,
        "codec": "libx264",
        "preset": "medium",
        "crf": 23,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "192k",
        "start": 0,
        "end": 30,
        "use_gpu": false
      },
      {
        "name": "clip_middle_10s",
        "width": 1280,
        "height": 720,
        "codec": "libx264",
        "preset": "medium",
        "crf": 23,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "192k",
        "start": 15,
        "end": 25,
        "use_gpu": false
      }
    ],
    "preview_settings": {
      "profiles": [
        {
          "name": "short_gif",
          "start": 0,
          "end": 5,
          "fps": 12,
          "width": 480,
          "height": 270,
          "quality": 80,
          "format": "gif"
        },
        {
          "name": "medium_gif",
          "start": 5,
          "end": 15,
          "fps": 15,
          "width": 640,
          "height": 360,
          "quality": 85,
          "format": "gif"
        },
        {
          "name": "long_gif",
          "start": 0,
          "end": 20,
          "fps": 10,
          "width": 320,
          "height": 180,
          "quality": 75,
          "format": "gif"
        },
        {
          "name": "hq_gif",
          "start": 0,
          "end": 8,
          "fps": 20,
          "width": 800,
          "height": 450,
          "quality": 90,
          "format": "gif"
        },
        {
          "name": "preview_webm",
          "start": 0,
          "end": 10,
          "fps": 24,
          "width": 854,
          "height": 480,
          "quality": 85,
          "format": "webm"
        }
      ]
    },
    "thumbnail_settings": {
      "timestamp": 3,
      "profiles": [
        {
          "name": "tiny",
          "width": 160,
          "height": 90,
          "format": "jpg",
          "quality": 85
        },
        {
          "name": "small",
          "width": 320,
          "height": 180,
          "format": "jpg",
          "quality": 90
        },
        {
          "name": "medium",
          "width": 640,
          "height": 360,
          "format": "png",
          "quality": 95
        },
        {
          "name": "large",
          "width": 1280,
          "height": 720,
          "format": "png",
          "quality": 100
        },
        {
          "name": "xlarge",
          "width": 1920,
          "height": 1080,
          "format": "png",
          "quality": 100
        },
        {
          "name": "webp_thumb",
          "width": 640,
          "height": 360,
          "format": "webp",
          "quality": 85
        }
      ]
    },
    "multi_thumbnail_settings": {
      "timestamps": [1, 5, 10, 15, 20, 25, 30],
      "profile": {
        "name": "timeline_thumbs",
        "width": 320,
        "height": 180,
        "format": "jpg",
        "quality": 85
      }
    }
  },
  "image_settings": {
    "transcode_profiles": [
      {
        "name": "original_webp",
        "format": "webp",
        "quality": 90,
        "resize": false
      },
      {
        "name": "original_jpg",
        "format": "jpg",
        "quality": 95,
        "resize": false
      },
      {
        "name": "original_png",
        "format": "png",
        "compression_level": 6,
        "resize": false
      },
      {
        "name": "original_avif",
        "format": "avif",
        "quality": 85,
        "resize": false
      },
      {
        "name": "hd_optimized",
        "format": "webp",
        "quality": 85,
        "resize": true,
        "width": 1920,
        "height": 1080,
        "maintain_aspect_ratio": true
      },
      {
        "name": "social_optimized",
        "format": "jpg",
        "quality": 85,
        "resize": true,
        "width": 1200,
        "height": 630,
        "maintain_aspect_ratio": true
      }
    ],
    "thumbnail_profiles": [
      {
        "name": "micro",
        "width": 64,
        "height": 64,
        "maintain_aspect_ratio": true,
        "format": "webp",
        "quality": 75
      },
      {
        "name": "tiny",
        "width": 150,
        "height": 150,
        "maintain_aspect_ratio": true,
        "format": "webp",
        "quality": 80
      },
      {
        "name": "small",
        "width": 320,
        "height": 240,
        "maintain_aspect_ratio": true,
        "format": "webp",
        "quality": 85
      },
      {
        "name": "medium",
        "width": 640,
        "height": 480,
        "maintain_aspect_ratio": true,
        "format": "webp",
        "quality": 85
      },
      {
        "name": "large",
        "width": 1024,
        "height": 768,
        "maintain_aspect_ratio": true,
        "format": "webp",
        "quality": 90
      },
      {
        "name": "xlarge",
        "width": 2048,
        "height": 1536,
        "maintain_aspect_ratio": true,
        "format": "webp",
        "quality": 90
      },
      {
        "name": "square_small",
        "width": 320,
        "height": 320,
        "maintain_aspect_ratio": false,
        "format": "jpg",
        "quality": 85
      },
      {
        "name": "square_medium",
        "width": 640,
        "height": 640,
        "maintain_aspect_ratio": false,
        "format": "jpg",
        "quality": 90
      },
      {
        "name": "square_large",
        "width": 1024,
        "height": 1024,
        "maintain_aspect_ratio": false,
        "format": "png",
        "quality": 95
      },
      {
        "name": "portrait_small",
        "width": 240,
        "height": 320,
        "maintain_aspect_ratio": false,
        "format": "webp",
        "quality": 85
      },
      {
        "name": "landscape_small",
        "width": 320,
        "height": 180,
        "maintain_aspect_ratio": false,
        "format": "webp",
        "quality": 85
      }
    ]
  },
  "face_detection": {
    "enabled": true,
    "config": {
      "similarity_threshold": 0.6,
      "min_faces_in_group": 2,
      "sample_interval": 2,
      "ignore_frames": [0, 1],
      "ignore_ranges": [],
      "face_detector_size": "640x640",
      "face_detector_score_threshold": 0.65,
      "min_appearance_ratio": 0.1,
      "min_frontality": 0.2,
      "avatar_size": 512,
      "avatar_padding": 0.15,
      "avatar_quality": 90,
      "output_path": "./output/faces/comprehensive",
      "max_workers": 4,
      "generate_face_embeddings": true,
      "save_face_crops": true,
      "save_detection_metadata": true
    }
  },
  "output_settings": {
    "s3_bucket": "comprehensive-test-bucket",
    "folder_structure": "test/{job_id}/{type}/{profile_name}/",
    "generate_unique_filenames": true,
    "preserve_original_filename": true,
    "use_temporary_local_storage": true,
    "local_storage_path": "/tmp/transcode-jobs/",
    "delete_local_after_upload": false,
    "create_manifest": true,
    "manifest_format": "json"
  },
  "quality_settings": {
    "enable_quality_analysis": true,
    "video_quality_metrics": ["psnr", "ssim", "vmaf"],
    "image_quality_metrics": ["psnr", "ssim"],
    "save_quality_reports": true
  },
  "performance_settings": {
    "max_concurrent_tasks": 4,
    "timeout_seconds": 1800,
    "retry_attempts": 2,
    "progress_reporting_interval": 5
  }
}