{
  "config_name": "Video Transcode Profile",
  "description": "Bộ cấu hình dành riêng cho transcode video",
  "created_at": "2025-05-10T10:00:00Z",
  "video_settings": {
    "transcode_profiles": [
      {
        "name": "360p",
        "width": 640,
        "height": 360,
        "codec": "libx264",
        "preset": "fast",
        "crf": 24,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "96k",
        "use_gpu": true,
        "gpu_options": {
          "hardware_encoder": "h264_nvenc",
          "preset": "p5",
          "rc": "vbr"
        }
      },
      {
        "name": "480p",
        "width": 854,
        "height": 480,
        "codec": "libx264",
        "preset": "medium",
        "crf": 23,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "128k",
        "use_gpu": true,
        "gpu_options": {
          "hardware_encoder": "h264_nvenc",
          "preset": "p4",
          "rc": "vbr"
        }
      },
      {
        "name": "720p",
        "width": 1280,
        "height": 720,
        "codec": "libx264",
        "preset": "medium",
        "crf": 23,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "128k",
        "use_gpu": true,
        "gpu_options": {
          "hardware_encoder": "h264_nvenc",
          "preset": "p4",
          "rc": "vbr"
        }
      },
      {
        "name": "1080p",
        "width": 1920,
        "height": 1080,
        "codec": "libx264",
        "preset": "medium",
        "crf": 22,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "192k",
        "use_gpu": true,
        "gpu_options": {
          "hardware_encoder": "h264_nvenc",
          "preset": "p3",
          "rc": "vbr"
        }
      },
      {
        "name": "1080p_clip_1min",
        "width": 1920,
        "height": 1080,
        "codec": "libx264",
        "preset": "medium",
        "crf": 22,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "192k",
        "use_gpu": true,
        "start": 0,
        "end": 60,
        "gpu_options": {
          "hardware_encoder": "h264_nvenc",
          "preset": "p3",
          "rc": "vbr"
        }
      },
      {
        "name": "1440p",
        "width": 2560,
        "height": 1440,
        "codec": "libx264",
        "preset": "slow",
        "crf": 21,
        "format": "mp4",
        "audio_codec": "aac",
        "audio_bitrate": "192k",
        "use_gpu": true,
        "gpu_options": {
          "hardware_encoder": "h264_nvenc",
          "preset": "p2",
          "rc": "vbr"
        }
      },
      {
        "name": "webm_720p",
        "width": 1280,
        "height": 720,
        "codec": "libvpx-vp9",
        "crf": 31,
        "format": "webm",
        "audio_codec": "libopus",
        "audio_bitrate": "128k",
        "use_gpu": false
      }
    ],
    "preview_settings": {
      "profiles": [
        {
          "name": "small_gif",
          "start": 0,
          "end": 5,
          "fps": 8,
          "width": 320,
          "height": 180,
          "quality": 75
        },
        {
          "name": "medium_gif",
          "start": 0,
          "end": 8,
          "fps": 12,
          "width": 480,
          "height": 270,
          "quality": 85
        },
        {
          "name": "large_gif",
          "start": 0,
          "end": 5,
          "fps": 15,
          "width": 640,
          "height": 360,
          "quality": 90
        }
      ]
    },
    "thumbnail_settings": {
      "timestamp": 5,
      "profiles": [
        {
          "name": "tiny",
          "width": 160,
          "height": 90,
          "format": "jpg",
          "quality": 85
        },
        {
          "name": "small",
          "width": 320,
          "height": 180,
          "format": "jpg",
          "quality": 90
        },
        {
          "name": "medium",
          "width": 640,
          "height": 360,
          "format": "jpg",
          "quality": 90
        },
        {
          "name": "large",
          "width": 1280,
          "height": 720,
          "format": "jpg",
          "quality": 90
        }
      ]
    }
  },
  "face_detection": {
    "enabled": true,
    "config": {
      "similarity_threshold": 0.6,
      "min_faces_in_group": 3,
      "sample_interval": 5,
      "ignore_frames": [0, 1, 2],
      "ignore_ranges": [[500, 600]],
      "face_detector_size": "640x640",
      "face_detector_score_threshold": 0.6,
      "min_appearance_ratio": 0.15,
      "min_frontality": 0.2,
      "avatar_size": 256,
      "avatar_padding": 0.1,
      "avatar_quality": 90,
      "output_path": "./output/faces",
      "max_workers": 4
    }
  },
  "output_settings": {
    "s3_bucket": "video-transcode-bucket",
    "folder_structure": "{user_id}/{job_id}/{type}/{profile_name}/",
    "generate_unique_filenames": true,
    "preserve_original_filename": true,
    "use_temporary_local_storage": true,
    "local_storage_path": "/tmp/transcode-jobs/",
    "delete_local_after_upload": true
  }
}