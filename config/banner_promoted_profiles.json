{
  "description": "Profiles configuration for Banner Promoted Feature",
  "display_specs": "Portrait orientation, 1/3 device height, banner display",
  
  "video_profiles": [
    {
      "category": "banner_video",
      "profiles": [
        {
          "id_profile": "banner_webp_high",
          "output_type": "webp",
          "input_type": "video",
          "description": "Banner animated WebP for high-end devices",
          "webp_config": {
            "fps": 15,
            "width": 480,
            "height": 420,
            "quality": 85,
            "animated": true,
            "method": 4,
            "loop": 0,
            "lossless": false
          }
        },
        {
          "id_profile": "banner_webp_low",
          "output_type": "webp",
          "input_type": "video",
          "description": "Banner animated WebP for low-end devices",
          "webp_config": {
            "fps": 10,
            "width": 360,
            "height": 315,
            "quality": 75,
            "animated": true,
            "method": 2,
            "loop": 0,
            "lossless": false
          }
        },
        {
          "id_profile": "banner_mp4_high",
          "output_type": "video",
          "input_type": "video",
          "description": "Banner MP4 for high-end devices (WebP fallback)",
          "video_config": {
            "codec": "libx264",
            "max_width": 480,
            "max_height": 420,
            "fps": 15,
            "crf": 27,
            "preset": "fast",
            "profile": "main",
            "level": "3.1",
            "remove_audio": true
          }
        },
        {
          "id_profile": "banner_mp4_low",
          "output_type": "video",
          "input_type": "video",
          "description": "Banner MP4 for low-end devices (WebP fallback)",
          "video_config": {
            "codec": "libx264",
            "max_width": 360,
            "max_height": 315,
            "fps": 10,
            "crf": 32,
            "preset": "ultrafast",
            "profile": "baseline",
            "level": "3.0",
            "remove_audio": true
          }
        }
      ]
    }
  ],

  "image_profiles": [
    {
      "category": "banner_image",
      "profiles": [
        {
          "id_profile": "banner_image_webp_high",
          "output_type": "image",
          "input_type": "image",
          "description": "Banner WebP image for high-end devices",
          "image_config": {
            "max_width": 480,
            "max_height": 420,
            "quality": 88,
            "format": "webp"
          }
        },
        {
          "id_profile": "banner_image_webp_low",
          "output_type": "image",
          "input_type": "image",
          "description": "Banner WebP image for low-end devices",
          "image_config": {
            "max_width": 360,
            "max_height": 315,
            "quality": 80,
            "format": "webp"
          }
        },
        {
          "id_profile": "banner_image_jpg_high",
          "output_type": "image",
          "input_type": "image",
          "description": "Banner JPEG image for high-end devices (fallback)",
          "image_config": {
            "max_width": 480,
            "max_height": 420,
            "quality": 92,
            "format": "jpeg"
          }
        },
        {
          "id_profile": "banner_image_jpg_low",
          "output_type": "image",
          "input_type": "image",
          "description": "Banner JPEG image for low-end devices (fallback)",
          "image_config": {
            "max_width": 360,
            "max_height": 315,
            "quality": 85,
            "format": "jpeg"
          }
        }
      ]
    }
  ],

  "s3_output_config": {
    "base_path": "banner-promoted-content",
    "folder_structure": "{task_id}/profiles/{profile_id}",
    "cleanup_temp_files": true,
    "cleanup_on_task_reset": true,
    "upload_timeout": 600,
    "max_retries": 3
  },

  "device_profiles": {
    "high_end": {
      "description": "Flagship devices with high resolution screens",
      "dimensions": "480x420 (approx 1/3 of 1280 height)",
      "video_profiles": ["banner_webp_high", "banner_mp4_high"],
      "image_profiles": ["banner_image_webp_high", "banner_image_jpg_high"],
      "target_devices": "iPhone 12+, Samsung S21+, Pixel 6+"
    },
    "low_end": {
      "description": "Budget and older devices",
      "dimensions": "360x315 (approx 1/3 of 960 height)",
      "video_profiles": ["banner_webp_low", "banner_mp4_low"],
      "image_profiles": ["banner_image_webp_low", "banner_image_jpg_low"],
      "target_devices": "Entry-level Android, iPhone SE, older models"
    }
  },

  "usage_scenarios": {
    "video_banner_upload": {
      "description": "When admin uploads a video for promoted banner",
      "required_profiles": [
        "banner_webp_high",
        "banner_webp_low",
        "banner_mp4_high",
        "banner_mp4_low"
      ],
      "total_outputs": 4
    },
    "image_banner_upload": {
      "description": "When admin uploads an image for promoted banner",
      "required_profiles": [
        "banner_image_webp_high",
        "banner_image_webp_low",
        "banner_image_jpg_high",
        "banner_image_jpg_low"
      ],
      "total_outputs": 4
    }
  },

  "optimization_notes": {
    "video_specs": "No audio, optimized for small file size, infinite loop",
    "image_specs": "Balanced quality for banner display",
    "dimensions": "Fixed dimensions for 1/3 screen height display",
    "format_strategy": "WebP primary, MP4/JPEG fallback for compatibility",
    "file_size_targets": {
      "video_high": "< 2MB for 10 second clips",
      "video_low": "< 1MB for 10 second clips",
      "image_high": "< 200KB",
      "image_low": "< 100KB"
    }
  },

  "display_guidelines": {
    "mobile_implementation": {
      "position": "Fixed at bottom or top of screen",
      "height": "33.33% of viewport height",
      "width": "Full width with padding",
      "animation": "Slide in/out animation",
      "interaction": "Swipeable to dismiss or clickable for action"
    },
    "loading_strategy": {
      "lazy_load": "Load when user scrolls near banner position",
      "preload": "Preload low-res version",
      "fallback": "Use JPEG/MP4 if WebP fails"
    },
    "placement_options": {
      "home_feed": "Between feed items",
      "sticky_bottom": "Fixed at bottom of screen",
      "modal_overlay": "As dismissible overlay",
      "carousel": "In promoted content carousel"
    }
  },

  "api_integration": {
    "profile_selection": {
      "high_end_detection": "window.devicePixelRatio >= 2 && screenHeight >= 1920",
      "low_end_detection": "window.devicePixelRatio < 2 || screenHeight < 1920",
      "webp_support": "canvas.toDataURL('image/webp').indexOf('image/webp') === 5"
    },
    "usage_example": "const profile = isHighEnd ? 'banner_webp_high' : 'banner_webp_low';"
  }
}