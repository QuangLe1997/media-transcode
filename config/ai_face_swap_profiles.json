{
  "description": "Profiles configuration for AI Face Swap Template System",
  "aspect_ratio": "3:4 (Portrait)",
  
  "video_profiles": [
    {
      "category": "preview",
      "profiles": [
        {
          "id_profile": "preview_webp_high",
          "output_type": "webp",
          "input_type": "video",
          "description": "Preview animated WebP for high-end devices",
          "webp_config": {
            "fps": 15,
            "width": 360,
            "height": 480,
            "duration": 6.0,
            "start_time": 1.0,
            "quality": 85,
            "animated": true,
            "method": 4,
            "loop": 0
          }
        },
        {
          "id_profile": "preview_webp_low",
          "output_type": "webp",
          "input_type": "video",
          "description": "Preview animated WebP for low-end devices",
          "webp_config": {
            "fps": 10,
            "width": 270,
            "height": 360,
            "duration": 5.0,
            "start_time": 1.0,
            "quality": 75,
            "animated": true,
            "method": 2,
            "loop": 0
          }
        },
        {
          "id_profile": "preview_mp4_high",
          "output_type": "video",
          "input_type": "video",
          "description": "Preview MP4 for high-end devices (fallback for WebP)",
          "video_config": {
            "codec": "libx264",
            "max_width": 360,
            "max_height": 480,
            "fps": 15,
            "duration": 6,
            "start_time": 1,
            "speed": 1.5,
            "crf": 28,
            "preset": "fast",
            "profile": "main",
            "remove_audio": true
          }
        },
        {
          "id_profile": "preview_mp4_low",
          "output_type": "video",
          "input_type": "video",
          "description": "Preview MP4 for low-end devices (fallback for WebP)",
          "video_config": {
            "codec": "libx264",
            "max_width": 270,
            "max_height": 360,
            "fps": 10,
            "duration": 5,
            "start_time": 1,
            "speed": 1.5,
            "crf": 32,
            "preset": "ultrafast",
            "profile": "baseline",
            "remove_audio": true
          }
        }
      ]
    },
    {
      "category": "detail",
      "profiles": [
        {
          "id_profile": "detail_video_high",
          "output_type": "video",
          "input_type": "video",
          "description": "Detail view video for high-end devices with audio",
          "video_config": {
            "codec": "libx264",
            "max_width": 720,
            "max_height": 960,
            "crf": 23,
            "preset": "medium",
            "profile": "main",
            "level": "4.1",
            "audio_codec": "aac",
            "audio_bitrate": "128k"
          }
        },
        {
          "id_profile": "detail_video_low",
          "output_type": "video",
          "input_type": "video",
          "description": "Detail view video for low-end devices with audio",
          "video_config": {
            "codec": "libx264",
            "max_width": 540,
            "max_height": 720,
            "crf": 28,
            "preset": "fast",
            "profile": "baseline",
            "level": "3.1",
            "audio_codec": "aac",
            "audio_bitrate": "96k"
          }
        }
      ]
    },
    {
      "category": "ai_processing",
      "profiles": [
        {
          "id_profile": "ai_video_high",
          "output_type": "video",
          "input_type": "video",
          "description": "Video for AI processing - high-end tier",
          "video_config": {
            "codec": "libx264",
            "max_width": 1080,
            "max_height": 1440,
            "crf": 20,
            "preset": "slow",
            "profile": "high",
            "level": "4.2",
            "audio_codec": "aac",
            "audio_bitrate": "192k"
          }
        },
        {
          "id_profile": "ai_video_standard",
          "output_type": "video",
          "input_type": "video",
          "description": "Video for AI processing - standard tier",
          "video_config": {
            "codec": "libx264",
            "max_width": 720,
            "max_height": 960,
            "crf": 23,
            "preset": "medium",
            "profile": "main",
            "level": "4.0",
            "audio_codec": "aac",
            "audio_bitrate": "128k"
          }
        }
      ]
    }
  ],

  "image_profiles": [
    {
      "category": "thumbnail",
      "profiles": [
        {
          "id_profile": "thumb_webp_high",
          "output_type": "image",
          "input_type": "image",
          "description": "Thumbnail WebP for high-end devices",
          "image_config": {
            "max_width": 360,
            "max_height": 480,
            "quality": 85,
            "format": "webp"
          }
        },
        {
          "id_profile": "thumb_webp_low",
          "output_type": "image",
          "input_type": "image",
          "description": "Thumbnail WebP for low-end devices",
          "image_config": {
            "max_width": 270,
            "max_height": 360,
            "quality": 75,
            "format": "webp"
          }
        },
        {
          "id_profile": "thumb_jpg_high",
          "output_type": "image",
          "input_type": "image",
          "description": "Thumbnail JPEG for high-end devices (fallback)",
          "image_config": {
            "max_width": 360,
            "max_height": 480,
            "quality": 90,
            "format": "jpeg"
          }
        },
        {
          "id_profile": "thumb_jpg_low",
          "output_type": "image",
          "input_type": "image",
          "description": "Thumbnail JPEG for low-end devices (fallback)",
          "image_config": {
            "max_width": 270,
            "max_height": 360,
            "quality": 80,
            "format": "jpeg"
          }
        }
      ]
    },
    {
      "category": "detail",
      "profiles": [
        {
          "id_profile": "detail_webp_high",
          "output_type": "image",
          "input_type": "image",
          "description": "Detail view WebP for high-end devices",
          "image_config": {
            "max_width": 720,
            "max_height": 960,
            "quality": 90,
            "format": "webp"
          }
        },
        {
          "id_profile": "detail_webp_low",
          "output_type": "image",
          "input_type": "image",
          "description": "Detail view WebP for low-end devices",
          "image_config": {
            "max_width": 540,
            "max_height": 720,
            "quality": 85,
            "format": "webp"
          }
        },
        {
          "id_profile": "detail_jpg_high",
          "output_type": "image",
          "input_type": "image",
          "description": "Detail view JPEG for high-end devices (fallback)",
          "image_config": {
            "max_width": 720,
            "max_height": 960,
            "quality": 95,
            "format": "jpeg"
          }
        },
        {
          "id_profile": "detail_jpg_low",
          "output_type": "image",
          "input_type": "image",
          "description": "Detail view JPEG for low-end devices (fallback)",
          "image_config": {
            "max_width": 540,
            "max_height": 720,
            "quality": 90,
            "format": "jpeg"
          }
        }
      ]
    },
    {
      "category": "ai_processing",
      "profiles": [
        {
          "id_profile": "ai_image_high_jpg",
          "output_type": "image",
          "input_type": "image",
          "description": "Image for AI processing - high quality JPEG",
          "image_config": {
            "max_width": 1080,
            "max_height": 1440,
            "quality": 95,
            "format": "jpeg"
          }
        },
        {
          "id_profile": "ai_image_high_png",
          "output_type": "image",
          "input_type": "image",
          "description": "Image for AI processing - high quality PNG",
          "image_config": {
            "max_width": 1080,
            "max_height": 1440,
            "quality": 100,
            "format": "png"
          }
        },
        {
          "id_profile": "ai_image_standard_jpg",
          "output_type": "image",
          "input_type": "image",
          "description": "Image for AI processing - standard quality JPEG",
          "image_config": {
            "max_width": 720,
            "max_height": 960,
            "quality": 90,
            "format": "jpeg"
          }
        }
      ]
    }
  ],

  "s3_output_config": {
    "base_path": "ai-face-swap-templates",
    "folder_structure": "{task_id}/profiles/{profile_id}",
    "face_avatar_path": "{task_id}/faces/avatars",
    "face_image_path": "{task_id}/faces/images",
    "cleanup_temp_files": true,
    "cleanup_on_task_reset": true,
    "upload_timeout": 900,
    "max_retries": 3
  },

  "profile_sets": {
    "high_end_devices": {
      "description": "For flagship phones and tablets",
      "video_profiles": [
        "preview_webp_high",
        "preview_mp4_high",
        "detail_video_high",
        "ai_video_high"
      ],
      "image_profiles": [
        "thumb_webp_high",
        "thumb_jpg_high",
        "detail_webp_high",
        "detail_jpg_high",
        "ai_image_high_jpg",
        "ai_image_high_png"
      ]
    },
    "low_end_devices": {
      "description": "For entry-level and older devices",
      "video_profiles": [
        "preview_webp_low",
        "preview_mp4_low",
        "detail_video_low",
        "ai_video_standard"
      ],
      "image_profiles": [
        "thumb_webp_low",
        "thumb_jpg_low",
        "detail_webp_low",
        "detail_jpg_low",
        "ai_image_standard_jpg"
      ]
    }
  },

  "usage_scenarios": {
    "video_template_upload": {
      "description": "When admin uploads a video template",
      "profiles": [
        "preview_webp_high",
        "preview_webp_low",
        "preview_mp4_high",
        "preview_mp4_low",
        "detail_video_high",
        "detail_video_low",
        "ai_video_high",
        "ai_video_standard"
      ]
    },
    "image_template_upload": {
      "description": "When admin uploads an image template",
      "profiles": [
        "thumb_webp_high",
        "thumb_webp_low",
        "thumb_jpg_high",
        "thumb_jpg_low",
        "detail_webp_high",
        "detail_webp_low",
        "detail_jpg_high",
        "detail_jpg_low",
        "ai_image_high_jpg",
        "ai_image_high_png",
        "ai_image_standard_jpg"
      ]
    }
  },

  "dimension_specifications": {
    "preview_thumbnail": {
      "high": "360x480 (fits 2 items on mobile landscape)",
      "low": "270x360 (reduced for performance)"
    },
    "detail_view": {
      "high": "720x960 (high quality detail)",
      "low": "540x720 (optimized for low-end)"
    },
    "ai_processing": {
      "high": "1080x1440 (maximum quality for AI)",
      "standard": "720x960 (balanced quality/performance)"
    }
  },

  "optimization_notes": {
    "preview_videos": "Speed 1.5x, short duration (5-6s), no audio, loop infinite",
    "webp_fallback": "Always provide MP4/JPEG alternatives for compatibility",
    "aspect_ratio": "All profiles maintain 3:4 portrait orientation",
    "ai_requirements": "AI videos must have audio, images can be JPG or PNG"
  }
}