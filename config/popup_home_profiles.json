{
  "description": "Profiles configuration for Home Screen Popup Feature",
  "display_specs": "Portrait orientation, 80% device height, full-screen popup",
  
  "video_profiles": [
    {
      "category": "popup_video",
      "profiles": [
        {
          "id_profile": "popup_webp_high",
          "output_type": "webp",
          "input_type": "video",
          "description": "Popup animated WebP for high-end devices",
          "webp_config": {
            "fps": 20,
            "width": 720,
            "height": 1280,
            "quality": 90,
            "animated": true,
            "method": 5,
            "loop": 0,
            "lossless": false
          }
        },
        {
          "id_profile": "popup_webp_low",
          "output_type": "webp",
          "input_type": "video",
          "description": "Popup animated WebP for low-end devices",
          "webp_config": {
            "fps": 15,
            "width": 540,
            "height": 960,
            "quality": 80,
            "animated": true,
            "method": 3,
            "loop": 0,
            "lossless": false
          }
        },
        {
          "id_profile": "popup_mp4_high",
          "output_type": "video",
          "input_type": "video",
          "description": "Popup MP4 for high-end devices (WebP fallback)",
          "video_config": {
            "codec": "libx264",
            "max_width": 720,
            "max_height": 1280,
            "fps": 20,
            "crf": 25,
            "preset": "medium",
            "profile": "main",
            "level": "4.1",
            "remove_audio": true
          }
        },
        {
          "id_profile": "popup_mp4_low",
          "output_type": "video",
          "input_type": "video",
          "description": "Popup MP4 for low-end devices (WebP fallback)",
          "video_config": {
            "codec": "libx264",
            "max_width": 540,
            "max_height": 960,
            "fps": 15,
            "crf": 30,
            "preset": "fast",
            "profile": "baseline",
            "level": "3.1",
            "remove_audio": true
          }
        }
      ]
    }
  ],

  "image_profiles": [
    {
      "category": "popup_image",
      "profiles": [
        {
          "id_profile": "popup_image_webp_high",
          "output_type": "image",
          "input_type": "image",
          "description": "Popup WebP image for high-end devices",
          "image_config": {
            "max_width": 720,
            "max_height": 1280,
            "quality": 92,
            "format": "webp"
          }
        },
        {
          "id_profile": "popup_image_webp_low",
          "output_type": "image",
          "input_type": "image",
          "description": "Popup WebP image for low-end devices",
          "image_config": {
            "max_width": 540,
            "max_height": 960,
            "quality": 85,
            "format": "webp"
          }
        },
        {
          "id_profile": "popup_image_jpg_high",
          "output_type": "image",
          "input_type": "image",
          "description": "Popup JPEG image for high-end devices (fallback)",
          "image_config": {
            "max_width": 720,
            "max_height": 1280,
            "quality": 95,
            "format": "jpeg"
          }
        },
        {
          "id_profile": "popup_image_jpg_low",
          "output_type": "image",
          "input_type": "image",
          "description": "Popup JPEG image for low-end devices (fallback)",
          "image_config": {
            "max_width": 540,
            "max_height": 960,
            "quality": 90,
            "format": "jpeg"
          }
        }
      ]
    }
  ],

  "s3_output_config": {
    "base_path": "popup-home-content",
    "folder_structure": "{task_id}/profiles/{profile_id}",
    "cleanup_temp_files": true,
    "cleanup_on_task_reset": true,
    "upload_timeout": 600,
    "max_retries": 3
  },

  "device_profiles": {
    "high_end": {
      "description": "Flagship devices with high resolution screens",
      "dimensions": "720x1280",
      "video_profiles": ["popup_webp_high", "popup_mp4_high"],
      "image_profiles": ["popup_image_webp_high", "popup_image_jpg_high"],
      "target_devices": "iPhone 12+, Samsung S21+, Pixel 6+"
    },
    "low_end": {
      "description": "Budget and older devices",
      "dimensions": "540x960",
      "video_profiles": ["popup_webp_low", "popup_mp4_low"],
      "image_profiles": ["popup_image_webp_low", "popup_image_jpg_low"],
      "target_devices": "Entry-level Android, iPhone SE, older models"
    }
  },

  "usage_scenarios": {
    "video_popup_upload": {
      "description": "When admin uploads a video for home popup",
      "required_profiles": [
        "popup_webp_high",
        "popup_webp_low",
        "popup_mp4_high",
        "popup_mp4_low"
      ],
      "total_outputs": 4
    },
    "image_popup_upload": {
      "description": "When admin uploads an image for home popup",
      "required_profiles": [
        "popup_image_webp_high",
        "popup_image_webp_low",
        "popup_image_jpg_high",
        "popup_image_jpg_low"
      ],
      "total_outputs": 4
    }
  },

  "optimization_notes": {
    "video_specs": "No audio, optimized for quick loading, infinite loop",
    "image_specs": "High quality for full-screen display",
    "dimensions": "Fixed dimensions to ensure consistent 80% height display",
    "format_strategy": "WebP primary, MP4/JPEG fallback for compatibility",
    "file_size_targets": {
      "video_high": "< 5MB for 10-15 second clips",
      "video_low": "< 2MB for 10-15 second clips",
      "image_high": "< 500KB",
      "image_low": "< 200KB"
    }
  },

  "display_guidelines": {
    "mobile_implementation": {
      "portrait_mode": "Display at 80% of screen height",
      "landscape_mode": "Center with max-width constraint",
      "animation": "Fade in/out or slide up animation",
      "close_button": "Top-right corner overlay",
      "click_action": "Full popup clickable for CTA"
    },
    "loading_strategy": {
      "preload": "Load low-res version first",
      "progressive": "Replace with high-res when ready",
      "fallback": "Use JPEG/MP4 if WebP fails"
    }
  }
}